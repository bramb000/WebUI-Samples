import{i as E,j as le,d as Q,o as c,c as h,a as e,t as A,F as K,k as z,h as oe,l as B,_ as Z,m as ue,n as V,p as de,q as te,s as Y,e as ce,u as xe,f as pe,T as ge,x as ye,y as Ie,z as M,A as re,b as we}from"./index-B5nHZ8WR.js";const Ne={integer:"#EE4F94",add:"#4F8EEE",subtract:"#4F8EEE"};function $e(){return[{id:"int-a",type:"integer",label:"INT",position:{x:60,y:120},value:5,execInputs:[],execOutputs:[],inputs:[],outputs:[{id:"int-a-out",label:"",direction:"output",type:"number"}],shortDescription:"An integer",detailedInfo:{signature:"INT( value )",description:"Outputs a constant integer value that can be connected to other nodes as input.",params:[]},examplesData:{title:"INT",subtitle:"An integer",notes:["Integer values support whole numbers only.","To use decimal values, cast to a float or double data type."]}},{id:"int-b",type:"integer",label:"INT",position:{x:60,y:310},value:5,execInputs:[],execOutputs:[],inputs:[],outputs:[{id:"int-b-out",label:"",direction:"output",type:"number"}],shortDescription:"An integer",detailedInfo:{signature:"INT( value )",description:"Outputs a constant integer value that can be connected to other nodes as input.",params:[]},examplesData:{title:"INT",subtitle:"An integer",notes:["Integer values support whole numbers only.","To use decimal values, cast to a float or double data type."]}},{id:"add",type:"add",label:"ADD",position:{x:350,y:100},execInputs:[{id:"add-exec-in",label:"",direction:"input",type:"exec"}],execOutputs:[{id:"add-exec-out",label:"",direction:"output",type:"exec"}],inputs:[{id:"add-in1",label:"Number 1",direction:"input",type:"number"},{id:"add-in2",label:"Number 2",direction:"input",type:"number"}],outputs:[{id:"add-out",label:"Result",direction:"output",type:"number"}],shortDescription:"Add two numbers and output the result",detailedInfo:{signature:"ADD( value1, value2 )",description:"Add two numeric values. Automatically detect output type based on inputs.",params:[{name:"value1",description:"Accepts int, float, double"},{name:"value2",description:"Accepts int, float, double"}],examplesLink:"#"},examplesData:{title:"ADD",subtitle:"Add two numbers and output the result",notes:["If the output has a decimal point, the result will automatically be cast to double.","If both inputs are an integer, the result will automatically be an integer. You can choose to cast it to another data type."]}},{id:"int-c",type:"integer",label:"INT",position:{x:650,y:500},value:5e4,execInputs:[],execOutputs:[],inputs:[],outputs:[{id:"int-c-out",label:"",direction:"output",type:"number"}],shortDescription:"An integer",detailedInfo:{signature:"INT( value )",description:"Outputs a constant integer value that can be connected to other nodes as input.",params:[]},examplesData:{title:"INT",subtitle:"An integer",notes:["Integer values support whole numbers only.","To use decimal values, cast to a float or double data type."]}},{id:"subtract",type:"subtract",label:"SUB",position:{x:920,y:310},execInputs:[{id:"sub-exec-in",label:"",direction:"input",type:"exec"}],execOutputs:[{id:"sub-exec-out",label:"",direction:"output",type:"exec"}],inputs:[{id:"sub-in1",label:"Number 1",direction:"input",type:"number"},{id:"sub-in2",label:"Number 2",direction:"input",type:"number"}],outputs:[{id:"sub-out",label:"Result",direction:"output",type:"number"}],shortDescription:"Subtract number 2 from number 1",detailedInfo:{signature:"SUB( value1, value2 )",description:"Subtract the second numeric value from the first. Automatically detect output type based on inputs.",params:[{name:"value1",description:"Accepts int, float, double"},{name:"value2",description:"Accepts int, float, double"}],examplesLink:"#"},examplesData:{title:"SUB",subtitle:"Subtract number 2 from number 1",notes:["If the output has a decimal point, the result will automatically be cast to double.","If both inputs are an integer, the result will automatically be an integer. You can choose to cast it to another data type."]}}]}function ke(){return[{id:"conn-1",fromNodeId:"int-a",fromPinId:"int-a-out",toNodeId:"add",toPinId:"add-in1"},{id:"conn-2",fromNodeId:"int-b",fromPinId:"int-b-out",toNodeId:"add",toPinId:"add-in2"},{id:"conn-3",fromNodeId:"add",fromPinId:"add-out",toNodeId:"subtract",toPinId:"sub-in1"},{id:"conn-4",fromNodeId:"int-c",fromPinId:"int-c-out",toNodeId:"subtract",toPinId:"sub-in2"},{id:"exec-1",fromNodeId:"add",fromPinId:"add-exec-out",toNodeId:"subtract",toPinId:"sub-exec-in"}]}function _e(){const t=E($e()),b=E(ke()),n=le({active:!1,nodeId:null,offsetX:0,offsetY:0}),p=le({active:!1,fromNodeId:null,fromPinId:null,mouseX:0,mouseY:0}),s=E(null),$=E(!1),x=E(null);function m(d){return t.value.find(r=>r.id===d)}function o(d,r,I){const k=m(d);k&&(k.position.x=r,k.position.y=I)}function D(d,r){const I=m(d);I&&I.type==="integer"&&(I.value=r)}function C(d,r,I){const k=m(d);k&&(n.active=!0,n.nodeId=d,n.offsetX=r-k.position.x,n.offsetY=I-k.position.y)}function X(d,r){!n.active||!n.nodeId||o(n.nodeId,d-n.offsetX,r-n.offsetY)}function L(){n.active=!1,n.nodeId=null}function l(d,r,I,k){p.active=!0,p.fromNodeId=d,p.fromPinId=r,p.mouseX=I,p.mouseY=k}function w(d,r){p.active&&(p.mouseX=d,p.mouseY=r)}function O(d,r){p.active&&d&&r&&p.fromNodeId&&p.fromPinId&&y(p.fromNodeId,p.fromPinId,d,r)&&a(p.fromNodeId,p.fromPinId,d,r),p.active=!1,p.fromNodeId=null,p.fromPinId=null}function y(d,r,I,k){if(d===I)return!1;const W=m(d),g=m(I);if(!W||!g)return!1;const H=[...W.outputs,...W.execOutputs],_=[...g.inputs,...g.execInputs],N=H.find(T=>T.id===r),P=_.find(T=>T.id===k);return!(!N||!P||N.type!==P.type||b.value.some(T=>T.toNodeId===I&&T.toPinId===k))}function a(d,r,I,k){const W=`conn-${Date.now()}`;b.value.push({id:W,fromNodeId:d,fromPinId:r,toNodeId:I,toPinId:k})}function f(d){b.value=b.value.filter(r=>r.id!==d)}function U(){$.value=!0,x.value=null;try{const d=new Map;t.value.forEach(_=>d.set(_.id,_));const r=new Map,I=new Map;t.value.forEach(_=>{r.set(_.id,0),I.set(_.id,[])}),b.value.forEach(_=>{var N;(N=I.get(_.fromNodeId))==null||N.push(_.toNodeId),r.set(_.toNodeId,(r.get(_.toNodeId)||0)+1)});const k=[];r.forEach((_,N)=>{_===0&&k.push(N)});const W=[];for(;k.length>0;){const _=k.shift();W.push(_);for(const N of I.get(_)||[]){const P=(r.get(N)||1)-1;r.set(N,P),P===0&&k.push(N)}}const g=new Map;for(const _ of W){const N=d.get(_);if(N.type==="integer")g.set(N.id,N.value??0);else if(N.type==="add"){const P=b.value.filter(S=>S.toNodeId===N.id),G=P.find(S=>S.toPinId==="add-in1"),T=P.find(S=>S.toPinId==="add-in2");if(!G||!T)return x.value=`${N.label}: Missing input connection`,null;const j=g.get(G.fromNodeId)??0,J=g.get(T.fromNodeId)??0;g.set(N.id,j+J)}else if(N.type==="subtract"){const P=b.value.filter(S=>S.toNodeId===N.id),G=P.find(S=>S.toPinId==="sub-in1"),T=P.find(S=>S.toPinId==="sub-in2");if(!G||!T)return x.value=`${N.label}: Missing input connection`,null;const j=g.get(G.fromNodeId)??0,J=g.get(T.fromNodeId)??0;g.set(N.id,j-J)}}const H=g.get("subtract")??null;return s.value=H,setTimeout(()=>{$.value=!1},1500),H}catch{return x.value="Evaluation failed",$.value=!1,null}}return{dragState:n,wireDrag:p,nodes:t,connections:b,executionResult:s,isRunning:$,executionError:x,startNodeDrag:C,onNodeDrag:X,endNodeDrag:L,startWireDrag:l,onWireDrag:w,endWireDrag:O,addConnection:a,removeConnection:f,updateNodeValue:D,evaluate:U}}function ae(t,b){if(t.execInputs.some(l=>l.id===b))return{x:24,y:75};if(t.execOutputs.some(l=>l.id===b))return{x:345,y:75};if(t.type==="integer")return t.outputs.some(l=>l.id===b)?{x:143,y:76}:null;const X=t.outputs.findIndex(l=>l.id===b);if(X!==-1)return{x:349,y:110+X*26};const L=t.inputs.findIndex(l=>l.id===b);return L!==-1?{x:20,y:110+L*26}:null}const De={class:"info-panel",role:"region","aria-label":"Detailed node information"},Ee={class:"info-content"},Ce={class:"info-signature"},Pe={class:"info-description"},Ae={class:"param-name"},Me={class:"param-desc"},Te=Q({__name:"NodeInfoPanel",props:{info:{}},emits:["seeExamples"],setup(t,{emit:b}){const n=b;return(p,s)=>(c(),h("div",De,[s[1]||(s[1]=e("div",{class:"info-separator","aria-hidden":"true"},null,-1)),e("div",Ee,[e("p",Ce,A(t.info.signature),1),e("p",Pe,A(t.info.description),1),(c(!0),h(K,null,z(t.info.params,$=>(c(),h("div",{key:$.name,class:"info-param"},[e("span",Ae,A($.name),1),e("span",Me,A($.description),1)]))),128)),t.info.examplesLink?(c(),h("button",{key:0,class:"info-examples-link",onClick:s[0]||(s[0]=oe($=>n("seeExamples"),["prevent"])),"aria-label":"See examples for this node"}," See examples ")):B("",!0)])]))}}),Xe=Z(Te,[["__scopeId","data-v-21bd78b3"]]),Se=["data-node-id","data-node-type","aria-label"],Oe=["aria-label"],Re={class:"node-title"},Ye={class:"node-subtitle"},Be={class:"node-body"},We={key:0,class:"exec-row"},Ve=["data-pin-id","onMouseup","aria-label"],Le=["data-pin-id","onMousedown","aria-label"],Ue={key:1,class:"int-row"},Ge=["value","aria-label"],Fe=["data-pin-id","aria-label"],Ke={class:"pin-side pin-side--left"},ze=["data-pin-id","onMouseup","aria-label"],qe={class:"pin-label"},He={key:0,class:"pin-side pin-side--right"},je={class:"pin-label"},Je=["data-pin-id","aria-label"],Qe=["aria-expanded"],Ze=Q({__name:"GraphNode",props:{node:{},connections:{},isRunning:{type:Boolean}},emits:["startDrag","startWireDrag","pinDrop","updateValue","openExamples"],setup(t,{emit:b}){const n=t,p=b,s=E(!1),$=Y(()=>Ne[n.node.type]),x=Y(()=>n.node.type==="integer"),m=Y(()=>x.value?163:369);function o(y){return n.connections.some(a=>a.fromPinId===y&&a.fromNodeId===n.node.id||a.toPinId===y&&a.toNodeId===n.node.id)}function D(y){y.preventDefault(),p("startDrag",n.node.id,y.clientX,y.clientY)}function C(y,a){a.preventDefault(),a.stopPropagation(),p("startWireDrag",n.node.id,y,a.clientX,a.clientY)}function X(y){p("pinDrop",n.node.id,y)}function L(y){const a=parseInt(y.target.value);isNaN(a)||p("updateValue",n.node.id,a)}function l(y){y.key==="Escape"&&s.value&&(s.value=!1,y.stopPropagation())}function w(){p("openExamples",n.node.id)}const O=Y(()=>x.value?`${n.node.label} node, value ${n.node.value}`:`${n.node.label} node: ${n.node.shortDescription}`);return(y,a)=>(c(),h("div",{class:V(["graph-node",{"graph-node--compact":x.value,"graph-node--wide":!x.value,"graph-node--running":t.isRunning}]),style:ue({left:t.node.position.x+"px",top:t.node.position.y+"px",width:m.value+"px","--header-color":$.value}),"data-node-id":t.node.id,"data-node-type":t.node.type,role:"group","aria-label":O.value,tabindex:"0",onKeydown:l},[e("div",{class:"node-header",onMousedown:D,role:"button","aria-label":`Drag to move ${t.node.label} node`},[e("span",Re,A(t.node.label),1),e("span",Ye,A(t.node.shortDescription),1)],40,Oe),e("div",Be,[x.value?B("",!0):(c(),h("div",We,[(c(!0),h(K,null,z(t.node.execInputs,f=>(c(),h("div",{key:f.id,class:V(["exec-pin exec-pin--in",{connected:o(f.id)}]),"data-pin-id":f.id,"data-pin-dir":"input",onMouseup:U=>X(f.id),role:"button","aria-label":`Execution input${o(f.id)?", connected":""}`,tabindex:"0"},[...a[5]||(a[5]=[e("svg",{width:"12",height:"14",viewBox:"0 0 12 14","aria-hidden":"true"},[e("polygon",{points:"1,1 11,7 1,13",fill:"currentColor"})],-1)])],42,Ve))),128)),(c(!0),h(K,null,z(t.node.execOutputs,f=>(c(),h("div",{key:f.id,class:V(["exec-pin exec-pin--out",{connected:o(f.id)}]),"data-pin-id":f.id,"data-pin-dir":"output",onMousedown:U=>C(f.id,U),role:"button","aria-label":`Execution output${o(f.id)?", connected":""}`,tabindex:"0"},[...a[6]||(a[6]=[e("svg",{width:"12",height:"14",viewBox:"0 0 12 14","aria-hidden":"true"},[e("polygon",{points:"1,1 11,7 1,13",fill:"currentColor"})],-1)])],42,Le))),128))])),x.value?(c(),h("div",Ue,[e("input",{type:"number",class:"int-value-input",value:t.node.value,onInput:L,"aria-label":`Value for ${t.node.label} node`},null,40,Ge),t.node.outputs[0]?(c(),h("div",{key:0,class:V(["data-pin data-pin--output",{connected:o(t.node.outputs[0].id)}]),"data-pin-id":t.node.outputs[0].id,"data-pin-dir":"output",onMousedown:a[0]||(a[0]=f=>C(t.node.outputs[0].id,f)),role:"button","aria-label":`Output pin${o(t.node.outputs[0].id)?", connected":""}`,tabindex:"0"},null,42,Fe)):B("",!0)])):B("",!0),x.value?B("",!0):(c(!0),h(K,{key:2},z(t.node.inputs,(f,U)=>(c(),h("div",{key:f.id,class:"pin-row"},[e("div",Ke,[e("div",{class:V(["data-pin data-pin--input",{connected:o(f.id)}]),"data-pin-id":f.id,"data-pin-dir":"input",onMouseup:d=>X(f.id),role:"button","aria-label":`${f.label} input${o(f.id)?", connected":""}`,tabindex:"0"},null,42,ze),e("span",qe,A(f.label),1)]),U===0&&t.node.outputs[0]?(c(),h("div",He,[e("span",je,A(t.node.outputs[0].label),1),e("div",{class:V(["data-pin data-pin--output",{connected:o(t.node.outputs[0].id)}]),"data-pin-id":t.node.outputs[0].id,"data-pin-dir":"output",onMousedown:a[1]||(a[1]=d=>C(t.node.outputs[0].id,d)),role:"button","aria-label":`${t.node.outputs[0].label} output${o(t.node.outputs[0].id)?", connected":""}`,tabindex:"0"},null,42,Je)])):B("",!0)]))),128)),e("div",{class:"more-info-toggle",onClick:a[2]||(a[2]=f=>s.value=!s.value),role:"button","aria-expanded":s.value,"aria-label":"Toggle more information",tabindex:"0",onKeydown:[a[3]||(a[3]=de(oe(f=>s.value=!s.value,["prevent"]),["enter"])),a[4]||(a[4]=de(oe(f=>s.value=!s.value,["prevent"]),["space"]))]},[(c(),h("svg",{width:"8",height:"8",viewBox:"0 0 8 8",class:V(["toggle-chevron",{open:s.value}]),"aria-hidden":"true"},[...a[7]||(a[7]=[e("polygon",{points:"1,0.5 7,4 1,7.5",fill:"currentColor"},null,-1)])],2)),a[8]||(a[8]=e("span",null,"More info",-1))],40,Qe),s.value?(c(),te(Xe,{key:3,info:t.node.detailedInfo,onSeeExamples:w},null,8,["info"])):B("",!0)])],46,Se))}}),et=Z(Ze,[["__scopeId","data-v-d1608ea1"]]),tt=["aria-label"],nt=["d"],ot=["d","stroke","stroke-width"],at=["transform","aria-label"],it=Q({__name:"GraphWire",props:{connection:{},nodes:{},isRunning:{type:Boolean}},emits:["disconnect"],setup(t,{emit:b}){const n=t,p=b,s=E(!1),$=Y(()=>n.nodes.find(l=>l.id===n.connection.fromNodeId)),x=Y(()=>n.nodes.find(l=>l.id===n.connection.toNodeId)),m=Y(()=>{const l=$.value;return l?l.execOutputs.some(w=>w.id===n.connection.fromPinId):!1}),o=Y(()=>{const l=$.value;if(!l)return{x:0,y:0};const w=ae(l,n.connection.fromPinId);return w?{x:l.position.x+w.x,y:l.position.y+w.y}:{x:0,y:0}}),D=Y(()=>{const l=x.value;if(!l)return{x:0,y:0};const w=ae(l,n.connection.toPinId);return w?{x:l.position.x+w.x,y:l.position.y+w.y}:{x:0,y:0}}),C=Y(()=>{const l=o.value.x,w=o.value.y,O=D.value.x,y=D.value.y,a=Math.abs(O-l)*.5;return`M ${l} ${w} C ${l+a} ${w}, ${O-a} ${y}, ${O} ${y}`}),X=Y(()=>({x:(o.value.x+D.value.x)/2,y:(o.value.y+D.value.y)/2}));function L(l){l.stopPropagation(),p("disconnect",n.connection.id)}return(l,w)=>{var O,y,a,f;return c(),h("g",{class:V(["graph-wire",{"graph-wire--exec":m.value}]),onMouseenter:w[0]||(w[0]=U=>s.value=!0),onMouseleave:w[1]||(w[1]=U=>s.value=!1),role:"group","aria-label":`${m.value?"Execution":"Data"} wire from ${(O=$.value)==null?void 0:O.label} to ${(y=x.value)==null?void 0:y.label}`},[e("path",{d:C.value,fill:"none",stroke:"transparent","stroke-width":"16",style:{cursor:"pointer"}},null,8,nt),e("path",{d:C.value,fill:"none",stroke:s.value?"var(--wire-hover, #999)":"var(--wire-color, #AAA)","stroke-width":s.value?3:2,"stroke-linecap":"round",class:V({running:t.isRunning}),style:{transition:"stroke-width 0.15s ease, stroke 0.15s ease"}},null,10,ot),s.value?(c(),h("g",{key:0,class:"disconnect-btn",transform:`translate(${X.value.x}, ${X.value.y})`,onClick:L,style:{cursor:"pointer"},role:"button","aria-label":`Disconnect ${m.value?"execution":"data"} wire from ${(a=$.value)==null?void 0:a.label} to ${(f=x.value)==null?void 0:f.label}`,tabindex:"0"},[...w[2]||(w[2]=[e("circle",{r:"10",fill:"var(--wire-disconnect-bg, #E53E3E)",opacity:"0.95"},null,-1),e("line",{x1:"-3.5",y1:"-3.5",x2:"3.5",y2:"3.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round"},null,-1),e("line",{x1:"3.5",y1:"-3.5",x2:"-3.5",y2:"3.5",stroke:"white","stroke-width":"1.5","stroke-linecap":"round"},null,-1)])],8,at)):B("",!0)],42,tt)}}}),st=Z(it,[["__scopeId","data-v-9db2e6e3"]]),lt={class:"modal-header"},dt={id:"modal-title",class:"modal-title"},rt={class:"modal-subtitle"},ut={class:"modal-section"},ct={class:"modal-syntax-visual"},pt={class:"syntax-placeholder","aria-label":"Visual example of node connection syntax"},ft={class:"syntax-node syntax-node--op",style:{top:"10px",left:"180px"}},vt={class:"sn-header sn-header--op"},ht={class:"sn-title"},mt={class:"sn-sub"},bt={class:"modal-section"},xt={class:"modal-notes"},gt=Q({__name:"ExamplesModal",props:{data:{}},emits:["close"],setup(t,{emit:b}){const n=b,p=E(null),s=E(null);function $(m){m.target===m.currentTarget&&n("close")}function x(m){if(m.key==="Escape"&&n("close"),m.key==="Tab"&&p.value){const o=p.value.querySelectorAll('button, [tabindex]:not([tabindex="-1"]), input, a[href]');if(o.length===0)return;const D=o[0],C=o[o.length-1];m.shiftKey&&document.activeElement===D?(m.preventDefault(),C.focus()):!m.shiftKey&&document.activeElement===C&&(m.preventDefault(),D.focus())}}return ce(()=>{document.addEventListener("keydown",x),xe(()=>{var m;(m=s.value)==null||m.focus()})}),pe(()=>{document.removeEventListener("keydown",x)}),(m,o)=>(c(),te(ge,{to:"body"},[e("div",{class:"modal-backdrop",onClick:$,role:"dialog","aria-modal":"true","aria-labelledby":"modal-title"},[e("div",{class:"modal-card",ref_key:"modalRef",ref:p},[e("button",{ref_key:"closeButtonRef",ref:s,class:"modal-close",onClick:o[0]||(o[0]=D=>n("close")),"aria-label":"Close examples dialog"},[...o[1]||(o[1]=[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none","aria-hidden":"true"},[e("line",{x1:"3",y1:"3",x2:"13",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"}),e("line",{x1:"13",y1:"3",x2:"3",y2:"13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})],-1)])],512),e("div",lt,[e("h2",dt,A(t.data.title),1),e("p",rt,A(t.data.subtitle),1)]),e("div",ut,[o[7]||(o[7]=e("h3",{class:"modal-section-title"},"Syntax",-1)),e("div",ct,[e("div",pt,[o[4]||(o[4]=e("div",{class:"syntax-node syntax-node--int",style:{top:"10px",left:"10px"}},[e("div",{class:"sn-header sn-header--int"},[e("span",{class:"sn-title"},"INT"),e("span",{class:"sn-sub"},"An integer")]),e("div",{class:"sn-body"},[e("span",{class:"sn-value"},"5"),e("span",{class:"sn-dot sn-dot--filled"})])],-1)),e("div",ft,[e("div",vt,[e("span",ht,A(t.data.title),1),e("span",mt,A(t.data.subtitle),1)]),o[2]||(o[2]=e("div",{class:"sn-exec-row"},[e("div",{class:"sn-exec-pin sn-exec-pin--in"},[e("svg",{width:"10",height:"12",viewBox:"0 0 12 14","aria-hidden":"true"},[e("polygon",{points:"1,1 11,7 1,13"})])]),e("div",{class:"sn-exec-pin sn-exec-pin--out"},[e("svg",{width:"10",height:"12",viewBox:"0 0 12 14","aria-hidden":"true"},[e("polygon",{points:"1,1 11,7 1,13"})])])],-1)),o[3]||(o[3]=e("div",{class:"sn-body sn-body--op"},[e("div",{class:"sn-pin-row"},[e("div",{class:"sn-pin-left"},[e("span",{class:"sn-dot"}),e("span",{class:"sn-label"},"Number 1")]),e("div",{class:"sn-pin-right"},[e("span",{class:"sn-label"},"Result"),e("span",{class:"sn-dot"})])]),e("div",{class:"sn-pin-row"},[e("div",{class:"sn-pin-left"},[e("span",{class:"sn-dot"}),e("span",{class:"sn-label"},"Number 2")])])],-1))]),o[5]||(o[5]=e("div",{class:"syntax-node syntax-node--int",style:{top:"150px",left:"10px"}},[e("div",{class:"sn-header sn-header--int"},[e("span",{class:"sn-title"},"INT"),e("span",{class:"sn-sub"},"An integer")]),e("div",{class:"sn-body"},[e("span",{class:"sn-value"},"5"),e("span",{class:"sn-dot sn-dot--filled"})])],-1)),o[6]||(o[6]=e("svg",{class:"syntax-wires",width:"100%",height:"100%"},[e("path",{d:"M 130 50 C 155 50, 165 90, 190 90",fill:"none",stroke:"#AAA","stroke-width":"2","stroke-linecap":"round"}),e("path",{d:"M 130 192 C 155 192, 165 115, 190 115",fill:"none",stroke:"#AAA","stroke-width":"2","stroke-linecap":"round"})],-1))])])]),e("div",bt,[o[8]||(o[8]=e("h3",{class:"modal-section-title"},"Notes",-1)),e("div",xt,[(c(!0),h(K,null,z(t.data.notes,(D,C)=>(c(),h("p",{key:C,class:"modal-note"},A(D),1))),128))])])],512)])]))}}),yt=Z(gt,[["__scopeId","data-v-61706afb"]]),It=["data-theme"],wt={class:"canvas-grid",width:"100%",height:"100%","aria-hidden":"true"},Nt=["x","y","width","height"],$t=["cx","cy","r"],kt={class:"canvas-toolbar",role:"toolbar","aria-label":"Node graph controls"},_t={class:"toolbar-actions"},Dt=["aria-label"],Et={key:0,width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"},Ct=["x1","y1","x2","y2"],Pt={key:1,width:"18",height:"18",viewBox:"0 0 18 18","aria-hidden":"true"},At=["disabled","aria-label"],Mt={key:0,class:"result-badge",role:"status","aria-live":"polite"},Tt={key:1,class:"error-badge",role:"alert","aria-live":"assertive"},Xt={class:"wire-layer","aria-label":"Node connections"},St={key:0,class:"wire-drag-layer"},Ot=["d"],Rt=.25,Yt=3,Bt=Q({__name:"NodeGraphCanvas",props:{theme:{default:"light"}},setup(t){const{nodes:b,connections:n,dragState:p,wireDrag:s,executionResult:$,isRunning:x,executionError:m,startNodeDrag:o,onNodeDrag:D,endNodeDrag:C,startWireDrag:X,onWireDrag:L,endWireDrag:l,removeConnection:w,updateNodeValue:O,evaluate:y}=_e(),a=t,f=E(a.theme);ye(()=>a.theme,i=>{f.value=i});function U(){f.value=f.value==="light"?"dark":"light"}const d=E(0),r=E(0),I=E(!1),k=E(0),W=E(0),g=E(1);function H(i){i.preventDefault();const v=-i.deltaY*.001,R=Math.min(Yt,Math.max(Rt,g.value*(1+v)));if(R===g.value)return;const F=i.currentTarget.getBoundingClientRect(),ee=i.clientX-F.left,ne=i.clientY-F.top,se=R/g.value;d.value=ee-(ee-d.value)*se,r.value=ne-(ne-r.value)*se,g.value=R}function _(i){i.button===1&&(i.preventDefault(),I.value=!0,k.value=i.clientX-d.value,W.value=i.clientY-r.value)}function N(i){I.value&&i.preventDefault()}const P=E(null);function G(i){const u=b.value.find(v=>v.id===i);u!=null&&u.examplesData&&(P.value=u.examplesData)}function T(){P.value=null}function j(i){if(I.value){d.value=i.clientX-k.value,r.value=i.clientY-W.value;return}if(p.active&&D(i.clientX,i.clientY),s.active){const u=document.querySelector(".node-graph-canvas");if(u){const v=u.getBoundingClientRect();L(i.clientX-v.left,i.clientY-v.top)}}}function J(i){if(I.value&&i.button===1){I.value=!1;return}if(p.active&&C(),s.active){const v=i.target.closest("[data-pin-id]");if(v&&v.dataset.pinDir==="input"){const R=v.closest("[data-node-id]");if(R){l(R.dataset.nodeId,v.dataset.pinId);return}}l()}}function S(i,u,v){o(i,u,v)}function fe(i,u,v,R){const q=document.querySelector(".node-graph-canvas");if(q){const F=q.getBoundingClientRect();X(i,u,v-F.left,R-F.top)}else X(i,u,v,R)}function ve(i,u){s.active&&l(i,u)}function he(i){w(i),$.value=null}function me(i,u){O(i,u),$.value=null}const ie=Y(()=>{if(!s.active||!s.fromNodeId||!s.fromPinId)return"";const i=b.value.find(ne=>ne.id===s.fromNodeId);if(!i)return"";const u=ae(i,s.fromPinId);if(!u)return"";const v=i.position.x+u.x,R=i.position.y+u.y,q=(s.mouseX-d.value)/g.value,F=(s.mouseY-r.value)/g.value,ee=Math.abs(q-v)*.5;return`M ${v} ${R} C ${v+ee} ${R}, ${q-ee} ${F}, ${q} ${F}`});function be(){y()}return ce(()=>{window.addEventListener("mousemove",j),window.addEventListener("mouseup",J)}),pe(()=>{window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",J)}),(i,u)=>(c(),h("div",{class:V(["node-graph-canvas",{"is-panning":I.value}]),"data-theme":f.value,onMousedown:_,onContextmenu:N,onWheel:oe(H,["prevent"])},[(c(),h("svg",wt,[e("defs",null,[e("pattern",{id:"dot-pattern",x:d.value%(24*g.value),y:r.value%(24*g.value),width:24*g.value,height:24*g.value,patternUnits:"userSpaceOnUse"},[e("circle",{cx:12*g.value,cy:12*g.value,r:Math.max(.5,1*g.value),fill:"var(--grid-dot)"},null,8,$t)],8,Nt)]),u[0]||(u[0]=e("rect",{width:"100%",height:"100%",fill:"url(#dot-pattern)"},null,-1))])),e("div",kt,[u[5]||(u[5]=Ie('<div class="toolbar-left" data-v-80807c05><div class="toolbar-title" data-v-80807c05><svg width="20" height="20" viewBox="0 0 20 20" class="toolbar-icon" aria-hidden="true" data-v-80807c05><rect x="2" y="2" width="6" height="6" rx="1" fill="#4F8EEE" data-v-80807c05></rect><rect x="12" y="2" width="6" height="6" rx="1" fill="#EE4F94" data-v-80807c05></rect><rect x="2" y="12" width="6" height="6" rx="1" fill="#EE4F94" data-v-80807c05></rect><rect x="12" y="12" width="6" height="6" rx="1" fill="#4F8EEE" data-v-80807c05></rect></svg><span data-v-80807c05>Node Graph</span></div></div>',1)),e("div",_t,[e("button",{class:"theme-toggle",onClick:U,"aria-label":`Switch to ${f.value==="light"?"dark":"light"} mode`},[f.value==="light"?(c(),h("svg",Et,[u[1]||(u[1]=e("circle",{cx:"9",cy:"9",r:"4",fill:"none",stroke:"currentColor","stroke-width":"1.5"},null,-1)),(c(),h(K,null,z(8,v=>e("line",{key:v,x1:9+6.5*Math.cos((v*45-90)*Math.PI/180),y1:9+6.5*Math.sin((v*45-90)*Math.PI/180),x2:9+8*Math.cos((v*45-90)*Math.PI/180),y2:9+8*Math.sin((v*45-90)*Math.PI/180),stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"},null,8,Ct)),64))])):(c(),h("svg",Pt,[...u[2]||(u[2]=[e("path",{d:"M15 10.5a6 6 0 01-7.5-7.5A6 6 0 1015 10.5z",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])]))],8,Dt),e("button",{class:V(["run-button",{running:M(x)}]),onClick:be,disabled:M(x),"aria-label":M(x)?"Graph is running":"Run the node graph"},[u[3]||(u[3]=e("svg",{width:"14",height:"14",viewBox:"0 0 14 14","aria-hidden":"true"},[e("polygon",{points:"2,1 12,7 2,13",fill:"currentColor"})],-1)),re(" "+A(M(x)?"Running...":"Run"),1)],10,At),M($)!==null?(c(),h("div",Mt,[u[4]||(u[4]=re(" Result: ",-1)),e("strong",null,A(M($)),1)])):B("",!0),M(m)?(c(),h("div",Tt," ⚠ "+A(M(m)),1)):B("",!0)])]),e("div",{class:"canvas-content",style:ue({transform:`translate(${d.value}px, ${r.value}px) scale(${g.value})`})},[(c(),h("svg",Xt,[(c(!0),h(K,null,z(M(n),v=>(c(),te(st,{key:v.id,connection:v,nodes:M(b),"is-running":M(x),onDisconnect:he},null,8,["connection","nodes","is-running"]))),128))])),(c(!0),h(K,null,z(M(b),v=>(c(),te(et,{key:v.id,node:v,connections:M(n),"is-running":M(x),onStartDrag:S,onStartWireDrag:fe,onPinDrop:ve,onUpdateValue:me,onOpenExamples:G},null,8,["node","connections","is-running"]))),128)),M(s).active&&ie.value?(c(),h("svg",St,[e("path",{d:ie.value,fill:"none",stroke:"var(--wire-color)","stroke-width":"2","stroke-dasharray":"6 3"},null,8,Ot)])):B("",!0)],4),u[6]||(u[6]=e("div",{class:"canvas-hint","aria-hidden":"true"},' Drag headers to move · Drag output pins to connect · Hover wires to disconnect · Click "More info" for details ',-1)),P.value?(c(),te(yt,{key:0,data:P.value,onClose:T},null,8,["data"])):B("",!0)],42,It))}}),Wt=Z(Bt,[["__scopeId","data-v-80807c05"]]),Vt={class:"node-graph-view"},Lt=Q({__name:"NodeGraphView",setup(t){return(b,n)=>(c(),h("div",Vt,[we(Wt)]))}}),Gt=Z(Lt,[["__scopeId","data-v-50fcd6b0"]]);export{Gt as default};
